(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{A2Ad:function(t,e,i){"use strict";var a=i("udBL"),o=i.n(a);o.a},Qm7X:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iNy45NDA1MTc5bW0iCiAgIGhlaWdodD0iOC4wMzQ2MDAzbW0iCiAgIHZpZXdCb3g9IjAgMCA3Ljk0MDUxNzkgOC4wMzQ2MDAzIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmcxNDgxIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkyLjMgKDI0MDU1NDYsIDIwMTgtMDMtMTEpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJ3aWFsb24uc3ZnIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMTQ3NSIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTUuODM5MTkyIgogICAgIGlua3NjYXBlOmN4PSIyMi42OTE5MTYiCiAgICAgaW5rc2NhcGU6Y3k9IjQuODU2ODkxOCIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpwYWdlY2hlY2tlcmJvYXJkPSJ0cnVlIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDQwIgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSI0MCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTE0NzgiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03MC44NjkwMjYsLTE2Ny40OTQ2KSI+CiAgICA8cGF0aAogICAgICAgZD0ibSA3Ny45MjYwMSwxNjkuNTM5ODIgYyAtMS4wMjQyMDIsLTEuNTA2MjIgLTIuNTQzOTk1LC0xLjk5NjgxIC0yLjYzMzEwNiwtMi4wMjgzIDAuMDgyODEsMC4wNDUgMS40MTczNDYsMC45MDUxNyAxLjk1NzEyMiwyLjM4MDQ5IDAuNTM5Njk4LDEuNDc1MzQgMC4wNzc0NywyLjk4Njg4IDAuMDEyMTcsMy4xNTk2IC0wLjEwMTMzNSwwLjQwOTg5IDAuMDQyMjgsMC44NzIxMiAwLjQyODA5NiwxLjA2NjA2IDAuMzY0NTcsMC4xODcwNiAwLjg5ODI2MSwtMC4wOTczIDEuMDQ5MDIsLTAuNjg4NSAwLjExODU2LC0wLjI1MjY4IDAuMjEwOSwtMi4zODMwNSAtMC44MTMzMDMsLTMuODg5MzUgeiIKICAgICAgIHN0eWxlPSJmaWxsOiMwMDVjOWU7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLXdpZHRoOjAuMjY0NTgzMzIiCiAgICAgICBpZD0icGF0aDg4NyIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgICA8cGF0aAogICAgICAgZD0ibSA3MS4zOTY0MzgsMTcwLjE4NDY2IGMgLTAuNzk0MDQxLDEuNjM5MzYgLTAuNDYwNjY2LDMuMjAwOTMgLTAuNDQzNDY5LDMuMjk0MDkgLTAuMDAyMSwtMC4wOTQyIDAuMDc3MzEsLTEuNjgwMTYgMS4wODYxNDIsLTIuODg0MjcgMS4wMDg4MjksLTEuMjAzODMgMi41NDk1NTEsLTEuNTU4MTQgMi43MzE3OTYsLTEuNTg3NDUgMC40MDU4OTcsLTAuMTE2NzEgMC43MzQ0ODMsLTAuNDcyMDcgMC43MTAxNjgsLTAuOTAzMDggLTAuMDE5ODcsLTAuNDA5MjggLTAuNTMyNjMyLC0wLjcyOTY5IC0xLjEyMDI3MiwtMC41NjU0NCAtMC4yNzgwMjQsMC4wMjM2IC0yLjE3MDM1MSwxLjAwNjgyIC0yLjk2NDM2NSwyLjY0NjE1IHoiCiAgICAgICBzdHlsZT0iZmlsbDojZTMwYjQ3O2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS13aWR0aDowLjI2NDU4MzMyIgogICAgICAgaWQ9InBhdGg4ODkiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Im0gNzUuMjIzMzE4LDE3NS41MTg2NiBjIDEuODE2ODY3LC0wLjEzMiAzLjAwMjQ2NSwtMS4yMDIwMyAzLjA3NDQ1OCwtMS4yNjMzNiAtMC4wODA3LDAuMDQ5IC0xLjQ5MzU0NiwwLjc3MzA5IC0zLjA0MDg1NiwwLjUwMTY4IC0xLjU0NzA0NSwtMC4yNzE1MiAtMi42MjQxMTEsLTEuNDI4NTQgLTIuNzQxMTEsLTEuNTcxNjMgLTAuMzAzNzQxLC0wLjI5Mjk3IC0wLjc3NTczMiwtMC40MDAwNSAtMS4xMzY4NjEsLTAuMTYzOCAtMC4zNDQ1NDEsMC4yMjIyMiAtMC4zNjU2ODEsMC44MjY4IDAuMDcwNTksMS4yNTMzMSAwLjE1OTMwNiwwLjIyOTEyIDEuOTU3MTIzLDEuMzc1OCAzLjc3Mzc3OSwxLjI0MzggeiIKICAgICAgIHN0eWxlPSJmaWxsOiNlMzBiNDc7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLXdpZHRoOjAuMjY0NTgzMzIiCiAgICAgICBpZD0icGF0aDg5MSIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgPC9nPgo8L3N2Zz4K"},iyQ6:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("div",{staticStyle:{display:"block",top:"100px",bottom:"auto"},attrs:{id:"lictotal"}},[a("div",{staticClass:"text"},[t._v("\n        Total Units\n    ")]),a("div",{attrs:{id:"total_w_lic"}},[t._v(t._s(t.prettifyNumber(t.total.total_units)))])]),a("div",{staticClass:"absolute text-white row justify-around",staticStyle:{"z-index":"9999",width:"100%","font-size":"27pt",background:"rgba(0,0,0,.3)"}},[a("div",{staticClass:"col-1 q-pa-md",staticStyle:{width:"100px"}},[a("img",{staticStyle:{height:"80px"},attrs:{src:i("Qm7X")}})]),a("div",{staticClass:"col q-pa-md"},[a("multi-progress",{attrs:{percents:[100/t.counters.total_units*t.counters.online_units],colors:["red-7"],topleft:"Hosting units",bottomright:t.prettifyNumber(t.counters.total_units),bottomleft:t.prettifyNumber(t.counters.online_units),topright:(100/t.counters.total_units*t.counters.online_units).toFixed(1)+"%"}})],1),a("div",{staticClass:"col q-pa-md"},[a("multi-progress",{attrs:{percents:[100/t.counters.total_users*t.counters.online_users],colors:["red"],topleft:"Hosting users",bottomright:t.prettifyNumber(t.counters.total_users),bottomleft:t.prettifyNumber(t.counters.online_users),topright:(100/t.counters.total_users*t.counters.online_users).toFixed(1)+"%"}})],1),a("div",{staticClass:"col q-pa-md"},[t._v("Messages:"),a("br"),t._v(" "+t._s(t.prettifyNumber(t.counters.msg_write)))]),a("div",{staticClass:"col q-pa-md"},[t._v("HW:"),a("br"),t._v(t._s(t.prettifyNumber(t.counters.hw_count)))]),a("div",{staticClass:"col q-pa-md"},[t._v("Local units:"),a("br"),t._v(" "+t._s(t.prettifyNumber(t.total.local_units_in_prod))+"Â "),a("small",[t._v("(+"+t._s(t.prettifyNumber(t.total.local_other_units_in_prod))+")")])]),a("div",{staticClass:"col q-pa-md",staticStyle:{"font-size":"32pt"}},[t._v(t._s(t.counters.wdc_time))])]),a("div",{staticStyle:{height:"100vh",background:"#333"}},[a("q-resize-observable",{on:{resize:t.onResize}}),a("v-map",{ref:"map",staticStyle:{height:"100%",background:"#333"},attrs:{options:{zoomControl:!1},zoom:4,center:t.center}},[a("v-tilelayer",{attrs:{url:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}}),a("l-tile-layer",{attrs:{layerType:"overlay",name:"Gurtam Objects",visible:"",url:"//wdctiles.wialon.com/gis_render/{x}_{y}_13/tile.png",attribution:""}})],1)],1)])},o=[];a._withStripped=!0;i("KKXr");var n=i("RY4O"),s=i.n(n),r=i("NjtJ"),l=i("F3uk"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},u=[];c._withStripped=!0;i("xfY5");var g=i("whWW"),I=i("zwsX"),M=i("4R65");M["TileLayer"].Grayscale=M["TileLayer"].extend({options:{quotaRed:3,quotaGreen:4,quotaBlue:3,quotaDividerTune:1,quotaDivider:function(){return this.quotaRed+this.quotaGreen+this.quotaBlue+this.quotaDividerTune}},initialize:function(t,e){e=e||{},e.crossOrigin=!0,M["TileLayer"].prototype.initialize.call(this,t,e),this.on("tileload",function(t){this._makeGrayscale(t.tile)})},_createTile:function(){var t=M["TileLayer"].prototype._createTile.call(this);return t.crossOrigin="Anonymous",t},_makeGrayscale:function(t){if(!t.getAttribute("data-grayscaled")){t.crossOrigin="";var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var i=e.getContext("2d");i.drawImage(t,0,0);for(var a=i.getImageData(0,0,e.width,e.height),o=a.data,n=0,s=o.length;n<s;n+=4)o[n]=o[n+1]=o[n+2]=255-(this.options.quotaRed*o[n]+this.options.quotaGreen*o[n+1]+this.options.quotaBlue*o[n+2])/this.options.quotaDivider();i.putImageData(a,0,0),t.setAttribute("data-grayscaled",!0),t.src=e.toDataURL()}}}),M["TileLayer"].grayscale=function(t,e){return new M["TileLayer"].Grayscale(t,e)};var C={url:String,attribution:{type:String,custom:!0},detectRetina:{type:Boolean,custom:!1,default:!1},token:{type:String,custom:!0},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},options:{type:Object,default:function(){return{}}},tileLayerClass:{type:Function,default:M["TileLayer"].grayscale},layerType:{type:String,default:void 0},name:{type:String,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},d={name:"GreyTileLayer",props:C,mounted:function(){for(var t=this.options,e=["attribution","token","detectRetina","opacity","zIndex"],i=0;i<e.length;i++){var a=e[i];void 0!==this[a]&&(t[a]=this[a])}this.mapObject=this.tileLayerClass(this.url,t),window.L.DomEvent.on(this.mapObject,this.$listeners),Object(g["a"])(this,this.mapObject,C),this.parentContainer=Object(I["a"])(this.$parent),this.parentContainer.addLayer(this,!this.visible)},methods:{setAttribution:function(t,e){var i=this.$parent.mapObject.attributionControl;i.removeAttribution(e).addAttribution(t)},setToken:function(t){this.options.token=t},setVisible:function(t,e){t!==e&&this.mapObject&&(t?this.parentContainer.addLayer(this):this.parentContainer.removeLayer(this))}},beforeDestroy:function(){this.parentContainer.removeLayer(this)},render:function(){return null}},A=d,m=i("KHd+"),p=Object(m["a"])(A,c,u,!1,null,null,null);p.options.__file="GreyTileLayer.vue";var y=p.exports,N=(i("bMVF"),i("Kw5r")),j=i("igrg"),w=i("wd/R"),b=i.n(w),D=(i("lXzo"),l["c"].humanStorageSize);delete L.Icon.Default.prototype._getIconUrl;var h={name:"MapPage",components:{QResizeObservable:r["a"],"v-map":s.a.LMap,"v-tilelayer":y,"v-marker":s.a.LMarker,"l-tile-layer":s.a.LTileLayer,MultiProgress:j["a"]},props:{},computed:{},data:function(){return{offices:[],counters:{},total:{total_units:0,local_units_in_prod:0,local_other_units_in_prod:0},centers:[[50.00774,22.71973],[-.26367,21.75293],[64.73664,159.47754],[36.94989,106.74316],[-25.56227,137.68066],[-26.74561,-62.18262],[36.94989,-89.16504]],center:[50.00774,22.71973]}},created:function(){},mounted:function(){b.a.locale("ru");var t=this,e=0;setInterval(function(){e=e<t.centers.length?e:0;var i=t.centers[e];N["a"].set(this,"center",i),e++,t.$refs.map&&t.$refs.map.mapObject&&t.$refs.map.mapObject.panTo(i,{animate:!0,duration:17}),t.loadData()},15e3),t.loadData(),setInterval(this.move,1e4)},methods:{humanStorageSize:D,onResize:function(){setTimeout(function(){window.dispatchEvent(new Event("resize"))},250)},loadData:function(){var t=this;this.$axios.get("//extapi.wialon.com/ajax.html?api=wdc/stats").then(function(e){N["a"].set(t,"counters",e.data.result)}).catch(function(){}),this.$axios.get("https://gurtam.com/total-units/full").then(function(e){N["a"].set(t,"total",e.data||{total_units:0,local_units_in_prod:0,local_other_units_in_prod:0}),N["a"].connector.socket.publish("prod/stats/".concat(b()().format("YYYY/MM/DD"),"/local"),JSON.stringify(e.data),{retain:!0},function(){})}).catch(function(){})},move:function(){function t(t,e){return Math.floor(Math.random()*e)+t}var e=window.innerHeight;document.querySelector("#lictotal").style.top=t(100,e-document.querySelector("#lictotal").offsetHeight-100)+"px",document.querySelector("#lictotal").style.bottom="auto"},prettifyNumber:function(t,e){var i=""+Math.floor(Math.abs(t)),a=t<0?"-":"",o=[];t="";for(var n=i.length-1,s=0;n>=0;n--,s++)s>0&&s%3===0&&(t=","+t),t=i[n]+t;if(e)switch(o=t.split(","),o.length){case 2:t=o[0]+"K";break;case 3:t=o[0]+"M";break}return a+t}}},z=h,v=(i("A2Ad"),Object(m["a"])(z,a,o,!1,null,null,null));v.options.__file="Index.vue";e["default"]=v.exports},udBL:function(t,e,i){}}]);